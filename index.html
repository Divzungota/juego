<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Juego de IA - MLM</title>
<style>
    body {
        font-family: Arial, sans-serif;
        background-color: #f4f8fc;
        margin: 0;
        padding: 20px;
        display: flex;
        flex-direction: column;
        align-items: center;
    }
    h1 {
        text-align: center;
        color: #2a5d84;
    }
    .section {
        background: #fff;
        padding: 15px;
        margin-top: 15px;
        border-radius: 8px;
        max-width: 800px;
        width: 100%;
        box-shadow: 0 0 5px rgba(0,0,0,0.1);
    }
    button {
        padding: 10px 20px;
        background-color: #2a5d84;
        color: white;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        margin-top: 10px;
    }
    button:hover {
        background-color: #1f4763;
    }
    .option {
        padding: 8px;
        margin: 5px 0;
        background-color: #eef3f7;
        border-radius: 5px;
        cursor: pointer;
    }
    .option:hover {
        background-color: #d9e6f0;
    }
    .hidden {
        display: none;
    }
    #matchGame {
        display: flex;
        justify-content: space-between;
        gap: 20px;
        margin-top: 15px;
    }
    .column {
        width: 45%;
        background: #eef3f7;
        padding: 10px;
        border-radius: 5px;
    }
    .draggable {
        background-color: #fff;
        margin: 5px;
        padding: 8px;
        border-radius: 4px;
        border: 1px solid #ccc;
        cursor: grab;
    }
    .dropzone {
        background-color: #f9f9f9;
        min-height: 40px;
        padding: 8px;
        border: 2px dashed #ccc;
        margin: 5px;
        border-radius: 4px;
    }
    .correct {
        background-color: #c8f7c5 !important;
    }
    .incorrect {
        background-color: #f7c5c5 !important;
    }
</style>
</head>
<body>

<h1>Juego de IA - Modelo de Lenguaje Marcado</h1>

<div class="section" id="quizSection">
    <div id="questionContainer"></div>
</div>

<div class="section hidden" id="matchingSection">
    <h2>Empareja el concepto con su definición</h2>
    <div id="matchGame">
        <div class="column" id="concepts">
            <div class="draggable" draggable="true" data-match="1">Etiqueta</div>
            <div class="draggable" draggable="true" data-match="2">Texto marcado</div>
            <div class="draggable" draggable="true" data-match="3">Contexto</div>
            <div class="draggable" draggable="true" data-match="4">IA</div>
            <div class="draggable" draggable="true" data-match="5">Procesamiento de lenguaje natural</div>
        </div>
        <div class="column" id="definitions">
            <div class="dropzone" data-match="1">Marca especial que indica información.</div>
            <div class="dropzone" data-match="2">Texto que contiene etiquetas.</div>
            <div class="dropzone" data-match="3">Entorno o situación que da sentido a algo.</div>
            <div class="dropzone" data-match="4">Máquina que aprende y piensa.</div>
            <div class="dropzone" data-match="5">Técnica para que las máquinas entiendan el lenguaje humano.</div>
        </div>
    </div>
    <button onclick="checkMatching()">Comprobar emparejamientos</button>
</div>

<div id="result" class="section hidden"></div>

<script>
const questions = [
    {
        text: "¿Qué significa 'Modelo de Lenguaje Marcado'?",
        options: [
            { text: "Un modelo que solo entiende matemáticas.", correct: false },
            { text: "Un modelo que entiende y usa etiquetas o marcas especiales en un texto.", correct: true },
            { text: "Un modelo para dibujar.", correct: false }
        ]
    },
    {
        text: "¿Para qué sirve un Modelo de Lenguaje Marcado?",
        options: [
            { text: "Para etiquetar palabras y entender mejor su significado.", correct: true },
            { text: "Para cocinar.", correct: false },
            { text: "Para guardar fotos.", correct: false }
        ]
    },
    {
        text: "¿Qué es una 'etiqueta' en este modelo?",
        options: [
            { text: "Un dibujo bonito.", correct: false },
            { text: "Un marcador que indica qué tipo de palabra o información es.", correct: true },
            { text: "Un juguete.", correct: false }
        ]
    },
    {
        text: "¿Qué ventaja tiene un Modelo de Lenguaje Marcado?",
        options: [
            { text: "Ayuda a la IA a entender mejor el contexto y responder con más precisión.", correct: true },
            { text: "Hace que la IA corra más rápido físicamente.", correct: false },
            { text: "No tiene ventajas.", correct: false }
        ]
    },
    {
        text: "¿Cuál es un ejemplo de marca o etiqueta?",
        options: [
            { text: "<nombre>Juan</nombre>", correct: true },
            { text: "12345", correct: false },
            { text: "Una pelota", correct: false }
        ]
    }
];

let currentQuestion = 0;
let score = 0;

function showQuestion() {
    const container = document.getElementById("questionContainer");
    container.innerHTML = "";

    if (currentQuestion < questions.length) {
        let q = questions[currentQuestion];
        let h2 = document.createElement("h2");
        h2.textContent = `Pregunta ${currentQuestion + 1}: ${q.text}`;
        container.appendChild(h2);

        q.options.forEach(opt => {
            let div = document.createElement("div");
            div.classList.add("option");
            div.textContent = opt.text;
            div.onclick = () => {
                if (opt.correct) score++;
                currentQuestion++;
                showQuestion();
            };
            container.appendChild(div);
        });
    } else {
        document.getElementById("quizSection").classList.add("hidden");
        document.getElementById("matchingSection").classList.remove("hidden");
    }
}

showQuestion();

// Drag & Drop
let draggedItem = null;

document.addEventListener("dragstart", function(e) {
    if (e.target.classList.contains("draggable")) {
        draggedItem = e.target;
        setTimeout(() => (e.target.style.display = "none"), 0);
    }
});

document.addEventListener("dragend", function(e) {
    if (draggedItem) {
        draggedItem.style.display = "block";
        draggedItem = null;
    }
});

document.querySelectorAll(".dropzone").forEach(zone => {
    zone.addEventListener("dragover", function(e) {
        e.preventDefault();
    });

    zone.addEventListener("drop", function(e) {
        e.preventDefault();
        if (draggedItem) {
            this.appendChild(draggedItem);
        }
    });
});

function checkMatching() {
    let correctMatches = 0;
    document.querySelectorAll(".dropzone").forEach(zone => {
        let item = zone.querySelector(".draggable");
        if (item && item.dataset.match === zone.dataset.match) {
            zone.classList.add("correct");
            correctMatches++;
        } else {
            zone.classList.add("incorrect");
        }
    });
    score += correctMatches;
    document.getElementById("matchingSection").classList.add("hidden");
    document.getElementById("result").classList.remove("hidden");
    document.getElementById("result").innerHTML = `Tu puntaje final es: ${score} de 10`;
}
</script>

</body>
</html>

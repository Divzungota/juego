<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Juego de IA - MLM</title>
<style>
    body {
        font-family: 'Comic Sans MS', sans-serif;
        background: linear-gradient(135deg, #ffecd2, #fcb69f);
        margin: 0;
        padding: 20px;
        display: flex;
        flex-direction: column;
        align-items: center;
        min-height: 100vh;
    }
    h1 {
        text-align: center;
        color: #2a5d84;
        text-shadow: 1px 1px 2px #fff;
        margin-bottom: 10px;
    }
    .section {
        background: #ffffffcc;
        padding: 15px;
        margin-top: 15px;
        border-radius: 12px;
        max-width: 800px;
        width: 100%;
        box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        animation: fadeIn 0.5s ease-in-out;
    }
    button {
        padding: 10px 20px;
        background-color: #ff7f50;
        color: white;
        border: none;
        border-radius: 8px;
        cursor: pointer;
        font-size: 16px;
        transition: transform 0.2s ease;
    }
    button:hover {
        background-color: #ff6347;
        transform: scale(1.05);
    }
    .option {
        padding: 10px;
        margin: 8px 0;
        background-color: #f0f8ff;
        border-radius: 8px;
        cursor: pointer;
        border: 2px solid transparent;
        transition: transform 0.2s, background-color 0.3s, border 0.3s;
    }
    .option:hover {
        background-color: #d1ecf1;
        transform: scale(1.03);
        border: 2px solid #17a2b8;
    }
    .hidden {
        display: none;
    }
    #matchGame {
        display: flex;
        justify-content: space-between;
        gap: 20px;
        margin-top: 15px;
        flex-wrap: wrap;
    }
    .column {
        width: 45%;
        background: #eef3f7;
        padding: 10px;
        border-radius: 5px;
    }
    .draggable {
        background-color: #fff;
        margin: 5px;
        padding: 8px;
        border-radius: 4px;
        border: 2px solid #ccc;
        cursor: grab;
        transition: transform 0.2s, background-color 0.3s;
    }
    .draggable:hover {
        background-color: #d1ffd1;
        transform: scale(1.03);
    }
    .dropzone {
        background-color: #f9f9f9;
        min-height: 40px;
        padding: 8px;
        border: 2px dashed #ccc;
        margin: 5px;
        border-radius: 4px;
    }
    .correct {
        background-color: #c8f7c5 !important;
    }
    .incorrect {
        background-color: #f7c5c5 !important;
    }
    @keyframes fadeIn {
        from { opacity: 0; transform: translateY(10px); }
        to { opacity: 1; transform: translateY(0); }
    }
</style>
</head>
<body>

<h1>üéØ Juego de IA - Modelo de Lenguaje Marcado üéØ</h1>

<div class="section" id="quizSection">
    <div id="questionContainer"></div>
</div>

<div class="section hidden" id="matchingSection">
    <h2>Empareja el concepto con su definici√≥n</h2>
    <div id="matchGame">
        <div class="column" id="concepts">
            <div class="draggable" draggable="true" data-match="1">Etiqueta</div>
            <div class="draggable" draggable="true" data-match="2">Texto marcado</div>
            <div class="draggable" draggable="true" data-match="3">Contexto</div>
            <div class="draggable" draggable="true" data-match="4">IA</div>
            <div class="draggable" draggable="true" data-match="5">Procesamiento de lenguaje natural</div>
        </div>
        <div class="column" id="definitions">
            <div class="dropzone" data-match="1">Marca especial que indica informaci√≥n.</div>
            <div class="dropzone" data-match="2">Texto que contiene etiquetas.</div>
            <div class="dropzone" data-match="3">Entorno o situaci√≥n que da sentido a algo.</div>
            <div class="dropzone" data-match="4">M√°quina que aprende y piensa.</div>
            <div class="dropzone" data-match="5">T√©cnica para que las m√°quinas entiendan el lenguaje humano.</div>
        </div>
    </div>
    <button onclick="checkMatching()">Comprobar emparejamientos</button>
</div>

<div id="result" class="section hidden"></div>

<script>
const questions = [
    {
        text: "¬øQu√© significa 'Modelo de Lenguaje Marcado'?",
        options: [
            { text: "Un modelo que solo entiende matem√°ticas.", correct: false },
            { text: "Un modelo que entiende y usa etiquetas o marcas especiales en un texto.", correct: true },
            { text: "Un modelo para dibujar.", correct: false }
        ]
    },
    {
        text: "¬øPara qu√© sirve un Modelo de Lenguaje Marcado?",
        options: [
            { text: "Para etiquetar palabras y entender mejor su significado.", correct: true },
            { text: "Para cocinar.", correct: false },
            { text: "Para guardar fotos.", correct: false }
        ]
    },
    {
        text: "¬øQu√© es una 'etiqueta' en este modelo?",
        options: [
            { text: "Un dibujo bonito.", correct: false },
            { text: "Un marcador que indica qu√© tipo de palabra o informaci√≥n es.", correct: true },
            { text: "Un juguete.", correct: false }
        ]
    },
    {
        text: "¬øQu√© ventaja tiene un Modelo de Lenguaje Marcado?",
        options: [
            { text: "Ayuda a la IA a entender mejor el contexto y responder con m√°s precisi√≥n.", correct: true },
            { text: "Hace que la IA corra m√°s r√°pido f√≠sicamente.", correct: false },
            { text: "No tiene ventajas.", correct: false }
        ]
    },
    {
        text: "¬øCu√°l es un ejemplo de marca o etiqueta?",
        options: [
            { text: "<nombre>Juan</nombre>", correct: true },
            { text: "12345", correct: false },
            { text: "Una pelota", correct: false }
        ]
    }
];

let currentQuestion = 0;
let score = 0;
let wrongAnswers = [];

function showQuestion() {
    const container = document.getElementById("questionContainer");
    container.innerHTML = "";

    if (currentQuestion < questions.length) {
        let q = questions[currentQuestion];
        let h2 = document.createElement("h2");
        h2.textContent = `Pregunta ${currentQuestion + 1}: ${q.text}`;
        container.appendChild(h2);

        q.options.forEach(opt => {
            let div = document.createElement("div");
            div.classList.add("option");
            div.textContent = opt.text;
            div.onclick = () => {
                if (opt.correct) {
                    score++;
                } else {
                    wrongAnswers.push({ pregunta: q.text, respuesta: opt.text });
                }
                currentQuestion++;
                setTimeout(showQuestion, 300);
            };
            container.appendChild(div);
        });
    } else {
        document.getElementById("quizSection").classList.add("hidden");
        document.getElementById("matchingSection").classList.remove("hidden");
    }
}

showQuestion();

// Drag & Drop
let draggedItem = null;

document.addEventListener("dragstart", function(e) {
    if (e.target.classList.contains("draggable")) {
        draggedItem = e.target;
        setTimeout(() => (e.target.style.display = "none"), 0);
    }
});

document.addEventListener("dragend", function(e) {
    if (draggedItem) {
        draggedItem.style.display = "block";
        draggedItem = null;
    }
});

document.querySelectorAll(".dropzone").forEach(zone => {
    zone.addEventListener("dragover", function(e) {
        e.preventDefault();
    });

    zone.addEventListener("drop", function(e) {
        e.preventDefault();
        if (draggedItem) {
            this.appendChild(draggedItem);
        }
    });
});

function checkMatching() {
    let correctMatches = 0;
    document.querySelectorAll(".dropzone").forEach(zone => {
        let item = zone.querySelector(".draggable");
        if (item && item.dataset.match === zone.dataset.match) {
            zone.classList.add("correct");
            correctMatches++;
        } else {
            zone.classList.add("incorrect");
            wrongAnswers.push({ pregunta: `Emparejamiento: ${zone.textContent}`, respuesta: item ? item.textContent : "Sin respuesta" });
        }
    });
    score += correctMatches;
    endGame();
}

function endGame() {
    document.getElementById("matchingSection").classList.add("hidden");
    document.getElementById("result").classList.remove("hidden");

    let html = `<h2>üéâ Tu puntaje final es: ${score} de 10 üéâ</h2>`;
    if (wrongAnswers.length > 0) {
        html += "<h3>Errores:</h3><ul>";
        wrongAnswers.forEach(err => {
            html += `<li><strong>Pregunta:</strong> ${err.pregunta}<br><strong>Tu respuesta:</strong> ${err.respuesta}</li>`;
        });
        html += "</ul>";
    } else {
        html += "<p>¬°Perfecto! No cometiste errores. üèÜ</p>";
    }
    document.getElementById("result").innerHTML = html;

    launchConfetti();
}

// üéä Confeti simple
function launchConfetti() {
    for (let i = 0; i < 30; i++) {
        const conf = document.createElement("div");
        conf.style.position = "fixed";
        conf.style.width = "10px";
        conf.style.height = "10px";
        conf.style.background = `hsl(${Math.random() * 360}, 100%, 50%)`;
        conf.style.top = "-10px";
        conf.style.left = `${Math.random() * 100}vw`;
        conf.style.opacity = 0.8;
        conf.style.borderRadius = "50%";
        document.body.appendChild(conf);

        let fall = setInterval(() => {
            let top = parseFloat(conf.style.top);
            if (top > window.innerHeight) {
                clearInterval(fall);
                conf.remove();
            } else {
                conf.style.top = `${top + 5}px`;
            }
        }, 50);
    }
}
</script>

</body>
</html>
